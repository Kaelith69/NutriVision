<svg width="820" height="490" viewBox="0 0 820 490" xmlns="http://www.w3.org/2000/svg">
  <rect width="820" height="490" fill="#0F172A" rx="12"/>

  <!-- Title -->
  <text x="410" y="34" font-family="Arial, sans-serif" font-size="15" font-weight="bold" fill="#10B981" text-anchor="middle" letter-spacing="3">SYSTEM ARCHITECTURE</text>
  <line x1="220" y1="43" x2="600" y2="43" stroke="#10B981" stroke-width="1" opacity="0.4"/>

  <!-- LAYER 1: UI -->
  <rect x="15" y="58" width="790" height="20" fill="rgba(11,143,135,0.15)" rx="4"/>
  <text x="410" y="72" font-family="Arial, sans-serif" font-size="10" fill="#0B8F87" text-anchor="middle" font-weight="bold" letter-spacing="2">UI LAYER  ·  REACT 18 + TYPESCRIPT + TAILWINDCSS</text>

  <!-- UI Boxes -->
  <rect x="22"  y="84" width="130" height="58" fill="#1E293B" rx="8" stroke="#0B8F87" stroke-width="1.5"/>
  <text x="87"  y="107" font-family="Arial, sans-serif" font-size="10" fill="white"   text-anchor="middle" font-weight="bold">OnboardingForm</text>
  <text x="87"  y="122" font-family="Arial, sans-serif" font-size="8"  fill="#64748B" text-anchor="middle">User profile setup</text>
  <text x="87"  y="134" font-family="Arial, sans-serif" font-size="8"  fill="#64748B" text-anchor="middle">BMR/TDEE wizard</text>

  <rect x="164" y="84" width="130" height="58" fill="#1E293B" rx="8" stroke="#0B8F87" stroke-width="1.5"/>
  <text x="229" y="107" font-family="Arial, sans-serif" font-size="10" fill="white"   text-anchor="middle" font-weight="bold">Dashboard</text>
  <text x="229" y="122" font-family="Arial, sans-serif" font-size="8"  fill="#64748B" text-anchor="middle">Daily tracking HQ</text>
  <text x="229" y="134" font-family="Arial, sans-serif" font-size="8"  fill="#64748B" text-anchor="middle">Macro + water rings</text>

  <rect x="306" y="84" width="130" height="58" fill="#1E293B" rx="8" stroke="#2563EB" stroke-width="2"/>
  <text x="371" y="107" font-family="Arial, sans-serif" font-size="10" fill="white"   text-anchor="middle" font-weight="bold">CameraModule</text>
  <text x="371" y="122" font-family="Arial, sans-serif" font-size="8"  fill="#64748B" text-anchor="middle">Live capture + upload</text>
  <text x="371" y="134" font-family="Arial, sans-serif" font-size="8"  fill="#64748B" text-anchor="middle">Base64 encoding</text>

  <rect x="448" y="84" width="130" height="58" fill="#1E293B" rx="8" stroke="#0B8F87" stroke-width="1.5"/>
  <text x="513" y="107" font-family="Arial, sans-serif" font-size="10" fill="white"   text-anchor="middle" font-weight="bold">Analytics</text>
  <text x="513" y="122" font-family="Arial, sans-serif" font-size="8"  fill="#64748B" text-anchor="middle">14-day trend charts</text>
  <text x="513" y="134" font-family="Arial, sans-serif" font-size="8"  fill="#64748B" text-anchor="middle">Recharts integration</text>

  <rect x="590" y="84" width="130" height="58" fill="#1E293B" rx="8" stroke="#0B8F87" stroke-width="1.5"/>
  <text x="655" y="107" font-family="Arial, sans-serif" font-size="10" fill="white"   text-anchor="middle" font-weight="bold">Settings</text>
  <text x="655" y="122" font-family="Arial, sans-serif" font-size="8"  fill="#64748B" text-anchor="middle">Profile management</text>
  <text x="655" y="134" font-family="Arial, sans-serif" font-size="8"  fill="#64748B" text-anchor="middle">CSV export trigger</text>

  <!-- Arrows: UI -> Service -->
  <line x1="87"  y1="142" x2="87"  y2="198" stroke="#1E3A5F" stroke-width="1.5" stroke-dasharray="4,3"/>
  <polygon points="83,194 87,202 91,194" fill="#1E3A5F"/>
  <line x1="229" y1="142" x2="229" y2="198" stroke="#1E3A5F" stroke-width="1.5" stroke-dasharray="4,3"/>
  <polygon points="225,194 229,202 233,194" fill="#1E3A5F"/>
  <line x1="371" y1="142" x2="371" y2="198" stroke="#2563EB" stroke-width="2" stroke-dasharray="4,3"/>
  <polygon points="367,194 371,202 375,194" fill="#2563EB"/>
  <line x1="513" y1="142" x2="513" y2="198" stroke="#1E3A5F" stroke-width="1.5" stroke-dasharray="4,3"/>
  <polygon points="509,194 513,202 517,194" fill="#1E3A5F"/>
  <line x1="655" y1="142" x2="655" y2="198" stroke="#1E3A5F" stroke-width="1.5" stroke-dasharray="4,3"/>
  <polygon points="651,194 655,202 659,194" fill="#1E3A5F"/>

  <!-- LAYER 2: Services -->
  <rect x="15" y="202" width="790" height="20" fill="rgba(37,99,235,0.15)" rx="4"/>
  <text x="410" y="216" font-family="Arial, sans-serif" font-size="10" fill="#2563EB" text-anchor="middle" font-weight="bold" letter-spacing="2">SERVICE LAYER</text>

  <!-- Service Boxes -->
  <rect x="22"  y="228" width="175" height="68" fill="#1E293B" rx="8" stroke="#2563EB" stroke-width="2"/>
  <text x="109" y="250" font-family="Arial, sans-serif" font-size="10" fill="white"   text-anchor="middle" font-weight="bold">geminiService.ts</text>
  <text x="109" y="265" font-family="Arial, sans-serif" font-size="8"  fill="#64748B" text-anchor="middle">Google Gemini 1.5 Flash</text>
  <text x="109" y="278" font-family="Arial, sans-serif" font-size="8"  fill="#64748B" text-anchor="middle">JSON schema enforcement</text>
  <text x="109" y="288" font-family="Arial, sans-serif" font-size="8"  fill="#64748B" text-anchor="middle">Volumetric food analysis</text>

  <rect x="209" y="228" width="175" height="68" fill="#1E293B" rx="8" stroke="#0B8F87" stroke-width="1.5"/>
  <text x="296" y="250" font-family="Arial, sans-serif" font-size="10" fill="white"   text-anchor="middle" font-weight="bold">metabolicService.ts</text>
  <text x="296" y="265" font-family="Arial, sans-serif" font-size="8"  fill="#64748B" text-anchor="middle">Mifflin-St Jeor BMR</text>
  <text x="296" y="278" font-family="Arial, sans-serif" font-size="8"  fill="#64748B" text-anchor="middle">TDEE + activity factors</text>
  <text x="296" y="288" font-family="Arial, sans-serif" font-size="8"  fill="#64748B" text-anchor="middle">Macro partitioning logic</text>

  <rect x="396" y="228" width="175" height="68" fill="#1E293B" rx="8" stroke="#0B8F87" stroke-width="1.5"/>
  <text x="483" y="250" font-family="Arial, sans-serif" font-size="10" fill="white"   text-anchor="middle" font-weight="bold">analyticsService.ts</text>
  <text x="483" y="265" font-family="Arial, sans-serif" font-size="8"  fill="#64748B" text-anchor="middle">14-day aggregation</text>
  <text x="483" y="278" font-family="Arial, sans-serif" font-size="8"  fill="#64748B" text-anchor="middle">System alert generation</text>
  <text x="483" y="288" font-family="Arial, sans-serif" font-size="8"  fill="#64748B" text-anchor="middle">CSV serialisation</text>

  <rect x="583" y="228" width="215" height="68" fill="#1E293B" rx="8" stroke="#0B8F87" stroke-width="1.5"/>
  <text x="690" y="250" font-family="Arial, sans-serif" font-size="10" fill="white"   text-anchor="middle" font-weight="bold">db.ts + firebase.ts</text>
  <text x="690" y="265" font-family="Arial, sans-serif" font-size="8"  fill="#64748B" text-anchor="middle">IndexedDB abstraction</text>
  <text x="690" y="278" font-family="Arial, sans-serif" font-size="8"  fill="#64748B" text-anchor="middle">Image blob CRUD</text>
  <text x="690" y="288" font-family="Arial, sans-serif" font-size="8"  fill="#64748B" text-anchor="middle">Optional Firebase auth</text>

  <!-- Arrows: Service -> Storage -->
  <line x1="109" y1="296" x2="109" y2="352" stroke="#1E3A5F" stroke-width="1.5" stroke-dasharray="4,3"/>
  <polygon points="105,348 109,356 113,348" fill="#1E3A5F"/>
  <line x1="296" y1="296" x2="296" y2="352" stroke="#1E3A5F" stroke-width="1.5" stroke-dasharray="4,3"/>
  <polygon points="292,348 296,356 300,348" fill="#1E3A5F"/>
  <line x1="483" y1="296" x2="483" y2="352" stroke="#1E3A5F" stroke-width="1.5" stroke-dasharray="4,3"/>
  <polygon points="479,348 483,356 487,348" fill="#1E3A5F"/>
  <line x1="690" y1="296" x2="690" y2="352" stroke="#1E3A5F" stroke-width="1.5" stroke-dasharray="4,3"/>
  <polygon points="686,348 690,356 694,348" fill="#1E3A5F"/>

  <!-- LAYER 3: Storage -->
  <rect x="15" y="356" width="790" height="20" fill="rgba(16,185,129,0.15)" rx="4"/>
  <text x="410" y="370" font-family="Arial, sans-serif" font-size="10" fill="#10B981" text-anchor="middle" font-weight="bold" letter-spacing="2">STORAGE LAYER  ·  100% LOCAL  ·  ZERO CLOUD</text>

  <!-- Storage Boxes -->
  <rect x="60"  y="382" width="220" height="68" fill="#1E293B" rx="8" stroke="#10B981" stroke-width="2"/>
  <text x="170" y="404" font-family="Arial, sans-serif" font-size="11" fill="white"   text-anchor="middle" font-weight="bold">LocalStorage</text>
  <text x="170" y="420" font-family="Arial, sans-serif" font-size="8"  fill="#64748B" text-anchor="middle">User Profile · Meal Logs</text>
  <text x="170" y="433" font-family="Arial, sans-serif" font-size="8"  fill="#64748B" text-anchor="middle">Water Logs · API Key</text>
  <text x="170" y="443" font-family="Arial, sans-serif" font-size="8"  fill="#64748B" text-anchor="middle">Persisted across sessions</text>

  <rect x="300" y="382" width="220" height="68" fill="#1E293B" rx="8" stroke="#10B981" stroke-width="2"/>
  <text x="410" y="404" font-family="Arial, sans-serif" font-size="11" fill="white"   text-anchor="middle" font-weight="bold">IndexedDB</text>
  <text x="410" y="420" font-family="Arial, sans-serif" font-size="8"  fill="#64748B" text-anchor="middle">Meal Photo Blobs</text>
  <text x="410" y="433" font-family="Arial, sans-serif" font-size="8"  fill="#64748B" text-anchor="middle">Crash-proof persistence</text>
  <text x="410" y="443" font-family="Arial, sans-serif" font-size="8"  fill="#64748B" text-anchor="middle">Async read/write</text>

  <rect x="540" y="382" width="220" height="68" fill="#1E293B" rx="8" stroke="#334155" stroke-width="1.5"/>
  <text x="650" y="404" font-family="Arial, sans-serif" font-size="11" fill="#475569" text-anchor="middle" font-weight="bold">External API (Read-only)</text>
  <text x="650" y="420" font-family="Arial, sans-serif" font-size="8"  fill="#334155" text-anchor="middle">Gemini Vision API</text>
  <text x="650" y="433" font-family="Arial, sans-serif" font-size="8"  fill="#334155" text-anchor="middle">Image pixels out, macros in</text>
  <text x="650" y="443" font-family="Arial, sans-serif" font-size="8"  fill="#334155" text-anchor="middle">No user PII transmitted</text>

  <!-- Footer note -->
  <text x="410" y="472" font-family="Arial, sans-serif" font-size="9" fill="rgba(255,255,255,0.25)" text-anchor="middle">Your data never leaves your device — Gemini only sees image pixels, never your profile.</text>
</svg>
